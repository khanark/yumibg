<div>
  <div
    class="hidden md:flex items-center px-3 py-1 bg-orange-200 text-lg font-medium text-[#333] rounded-lg justify-between"
  >
    <h3>Filter recipes</h3>
  </div>
  <div
    class="flex md:hidden items-center px-3 py-1 bg-orange-200 text-lg font-medium text-[#333] rounded-lg justify-between"
    (click)="toggleForm()"
  >
    <h3>Filter recipes</h3>
    <fa-icon icon="chevron-down" *ngIf="!formToggle" />
    <fa-icon icon="chevron-up" *ngIf="formToggle" />
  </div>
  <form
    #filterForm="ngForm"
    (ngSubmit)="onFilterSubmit(filterForm)"
    class="flex flex-col mt-6 gap-y-6"
    *ngIf="!formToggle"
  >
    <div>
      <legend class="font-medium text-[#333] mb-4 pl-4">
        Filter by regions:
      </legend>
      <div
        class="py-4 px-6 bg-orange-100 text-[#555] flex flex-col space-y-2 accent-orange-600 rounded-lg"
      >
        <label
          class="flex items-center cursor-pointer gap-x-3"
          *ngFor="let region of recipes.regions"
        >
          <input
            type="checkbox"
            name="region"
            value="{{ region.name }}"
            ngModel
          />
          {{ region.text }}
        </label>
      </div>
    </div>
    <div>
      <legend class="font-medium text-[#333] mb-4 pl-4">Order by:</legend>
      <div
        class="py-4 px-6 bg-orange-100 text-[#555] flex flex-col space-y-2 accent-orange-600 rounded-lg"
      >
        <label
          class="flex items-center gap-x-3"
          *ngFor="let order of recipes.order"
        >
          <input type="radio" name="order" value="{{ order.value }}" ngModel />
          {{ order.text }}
        </label>
      </div>
    </div>
    <button
      class="w-full px-4 py-2 font-medium text-white transition-colors bg-orange-600 rounded-md hover:bg-orange-500"
    >
      Filter Recipes
    </button>
  </form>
  <div *ngIf="authService.loggedUser$ | async" class="flex flex-col gap-4 mt-8">
    <a
      [routerLink]="['/recipes/users', authService.loggedUser?._id]"
      class="flex flex-col items-center gap-2 hover:underline underline-offset-4"
    >
      <div
        class="rounded-full flex items-center justify-center w-[60px] h-[60px] bg-orange-200 hover:bg-orange-300 transition-colors"
      >
        <fa-icon icon="user" class="inline-block text-xl text-orange-600" />
      </div>
      {{ authService.loggedUser?.username | titlecase }}
    </a>
    <button
      class="px-4 py-2 font-medium text-orange-600 transition-colors bg-orange-200 rounded-md hover:bg-orange-300"
      (click)="authService.logout()"
    >
      Logout
    </button>
  </div>
</div>
